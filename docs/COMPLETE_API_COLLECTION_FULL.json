{
  "info": {
    "name": "üéØ Complete Step-by-Step API Testing - All Phases",
    "description": "Complete workflow covering all 239 APIs in 6 phases",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080/api",
      "type": "string"
    },
    {
      "key": "admin_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "user_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "category_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "product_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "order_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "address_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "cart_item_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "review_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "ticket_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "return_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "invoice_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "supplier_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "payment_id",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "üöÄ PHASE 1: Admin Setup & Configuration",
      "description": "Initial admin setup, business configuration, and product catalog creation",
      "item": [
        {
          "name": "Step 1: Admin Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data.token) {",
                  "        pm.environment.set('admin_token', response.data.token);",
                  "        console.log('‚úÖ Admin token saved successfully');",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Admin login failed');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@admin.com\",\n  \"password\": \"Admin@123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": ["{{base_url}}"],
              "path": ["auth", "login"]
            }
          }
        },
        {
          "name": "Step 2: Configure Company Info",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"companyName\": \"Ghanshyam Murti Bhandar\",\n  \"gstin\": \"09ABCDE1234F1Z5\",\n  \"pan\": \"ABCDE1234F\",\n  \"contactPhone\": \"+91-9999999999\",\n  \"companyAddress\": {\n    \"street\": \"123 Main Street\",\n    \"city\": \"Mumbai\",\n    \"state\": \"Maharashtra\",\n    \"postalCode\": \"400001\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/admin/business-settings/company",
              "host": ["{{base_url}}"],
              "path": ["admin", "business-settings", "company"]
            }
          }
        },
        {
          "name": "Step 3: Configure GST Settings",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"enableGST\": true,\n  \"defaultGSTRate\": 18,\n  \"companyGSTIN\": \"09ABCDE1234F1Z5\",\n  \"taxCalculationMethod\": \"exclusive\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/admin/business-settings/gst",
              "host": ["{{base_url}}"],
              "path": ["admin", "business-settings", "gst"]
            }
          }
        },
        {
          "name": "Step 4: Configure Payment Settings",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"enableCOD\": true,\n  \"enableOnlinePayment\": true,\n  \"enableWalletPayment\": true,\n  \"codCharges\": 50,\n  \"codMinAmount\": 100,\n  \"codMaxAmount\": 50000\n}"
            },
            "url": {
              "raw": "{{base_url}}/admin/business-settings/payments",
              "host": ["{{base_url}}"],
              "path": ["admin", "business-settings", "payments"]
            }
          }
        },
        {
          "name": "Step 5: Create Category",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data._id) {",
                  "        pm.environment.set('category_id', response.data._id);",
                  "        console.log('‚úÖ Category ID saved:', response.data._id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Electronics\",\n  \"description\": \"Electronic items and gadgets\",\n  \"image\": \"https://via.placeholder.com/300x200?text=Electronics\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/categories",
              "host": ["{{base_url}}"],
              "path": ["categories"]
            }
          }
        },
        {
          "name": "Step 6: Create Product",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data._id) {",
                  "        pm.environment.set('product_id', response.data._id);",
                  "        console.log('‚úÖ Product ID saved:', response.data._id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"iPhone 15 Pro\",\n  \"description\": \"Latest iPhone with advanced features\",\n  \"price\": 99999,\n  \"originalPrice\": 109999,\n  \"category\": \"{{category_id}}\",\n  \"stock\": 50,\n  \"images\": [\"https://via.placeholder.com/400x400?text=iPhone+15+Pro\"],\n  \"isActive\": true,\n  \"isFeatured\": true,\n  \"brand\": \"Apple\",\n  \"sku\": \"IPH15PRO001\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/products",
              "host": ["{{base_url}}"],
              "path": ["products"]
            }
          }
        },
        {
          "name": "Step 7: Create Coupon",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"WELCOME10\",\n  \"description\": \"Welcome discount for new users\",\n  \"discountType\": \"percentage\",\n  \"discountValue\": 10,\n  \"minOrderAmount\": 500,\n  \"maxDiscountAmount\": 1000,\n  \"usageLimit\": 100,\n  \"validFrom\": \"2025-01-01T00:00:00.000Z\",\n  \"validUntil\": \"2025-12-31T23:59:59.000Z\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/coupons",
              "host": ["{{base_url}}"],
              "path": ["coupons"]
            }
          }
        }
      ]
    },
    {
      "name": "üë§ PHASE 2: Customer Journey",
      "description": "Complete customer journey from registration to order placement",
      "item": [
        {
          "name": "Step 8: Customer Registration",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data.user._id) {",
                  "        pm.environment.set('user_id', response.data.user._id);",
                  "        console.log('‚úÖ User ID saved:', response.data.user._id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"Customer@123\",\n  \"phone\": \"9876543210\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/register",
              "host": ["{{base_url}}"],
              "path": ["auth", "register"]
            }
          }
        },
        {
          "name": "Step 9: Customer Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data.token) {",
                  "        pm.environment.set('user_token', response.data.token);",
                  "        console.log('‚úÖ User token saved successfully');",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"Customer@123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": ["{{base_url}}"],
              "path": ["auth", "login"]
            }
          }
        },
        {
          "name": "Step 10: Get Customer Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/auth/profile",
              "host": ["{{base_url}}"],
              "path": ["auth", "profile"]
            }
          }
        },
        {
          "name": "Step 11: Add Customer Address",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data._id) {",
                  "        pm.environment.set('address_id', response.data._id);",
                  "        console.log('‚úÖ Address ID saved:', response.data._id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"home\",\n  \"label\": \"Home\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"9876543210\",\n  \"addressLine1\": \"123 Customer Street\",\n  \"addressLine2\": \"Near Main Market\",\n  \"city\": \"Mumbai\",\n  \"state\": \"Maharashtra\",\n  \"postalCode\": \"400001\",\n  \"country\": \"India\",\n  \"isDefault\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/addresses",
              "host": ["{{base_url}}"],
              "path": ["addresses"]
            }
          }
        },
        {
          "name": "Step 12: Browse Products",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/products?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["products"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Step 13: Search Products",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/products/search?q=iphone&page=1&limit=5",
              "host": ["{{base_url}}"],
              "path": ["products", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "iphone"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          }
        },
        {
          "name": "Step 14: Get Product Details",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/products/{{product_id}}",
              "host": ["{{base_url}}"],
              "path": ["products", "{{product_id}}"]
            }
          }
        },
        {
          "name": "Step 15: Add to Wishlist",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"productId\": \"{{product_id}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/wishlist/add",
              "host": ["{{base_url}}"],
              "path": ["wishlist", "add"]
            }
          }
        },
        {
          "name": "Step 16: Get Wishlist",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/wishlist",
              "host": ["{{base_url}}"],
              "path": ["wishlist"]
            }
          }
        },
        {
          "name": "Step 17: Add to Cart",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data.items && response.data.items.length > 0) {",
                  "        pm.environment.set('cart_item_id', response.data.items[0]._id);",
                  "        console.log('‚úÖ Cart item ID saved:', response.data.items[0]._id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"productId\": \"{{product_id}}\",\n  \"quantity\": 2\n}"
            },
            "url": {
              "raw": "{{base_url}}/cart/add",
              "host": ["{{base_url}}"],
              "path": ["cart", "add"]
            }
          }
        },
        {
          "name": "Step 18: Get Cart Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/cart",
              "host": ["{{base_url}}"],
              "path": ["cart"]
            }
          }
        },
        {
          "name": "Step 19: Apply Coupon",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"couponCode\": \"WELCOME10\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/cart/apply-coupon",
              "host": ["{{base_url}}"],
              "path": ["cart", "apply-coupon"]
            }
          }
        },
        {
          "name": "Step 20: Create Order",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data._id) {",
                  "        pm.environment.set('order_id', response.data._id);",
                  "        console.log('‚úÖ Order ID saved:', response.data._id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"addressId\": \"{{address_id}}\",\n  \"paymentInfo\": {\n    \"method\": \"cod\"\n  },\n  \"couponCode\": \"WELCOME10\",\n  \"useWallet\": false,\n  \"walletAmount\": 0\n}"
            },
            "url": {
              "raw": "{{base_url}}/orders",
              "host": ["{{base_url}}"],
              "path": ["orders"]
            }
          }
        },
        {
          "name": "Step 21: Get Order Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/orders/{{order_id}}",
              "host": ["{{base_url}}"],
              "path": ["orders", "{{order_id}}"]
            }
          }
        },
        {
          "name": "Step 22: Track Order",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/orders/{{order_id}}/track",
              "host": ["{{base_url}}"],
              "path": ["orders", "{{order_id}}", "track"]
            }
          }
        }
      ]
    },
    {
      "name": "üí≥ PHASE 3: Payment & Wallet",
      "description": "Payment processing and wallet operations",
      "item": [
        {
          "name": "Step 23: Get Wallet Balance",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/wallet",
              "host": ["{{base_url}}"],
              "path": ["wallet"]
            }
          }
        },
        {
          "name": "Step 24: Add Money to Wallet",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 5000,\n  \"paymentMethod\": \"upi\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/wallet/add-money",
              "host": ["{{base_url}}"],
              "path": ["wallet", "add-money"]
            }
          }
        },
        {
          "name": "Step 25: Get Wallet Transactions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/wallet/transactions?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["wallet", "transactions"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Step 26: Create Payment",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data._id) {",
                  "        pm.environment.set('payment_id', response.data._id);",
                  "        console.log('‚úÖ Payment ID saved:', response.data._id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"orderId\": \"{{order_id}}\",\n  \"amount\": 199999,\n  \"paymentMethod\": \"online\",\n  \"currency\": \"INR\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/payments/create",
              "host": ["{{base_url}}"],
              "path": ["payments", "create"]
            }
          }
        },
        {
          "name": "Step 27: Verify Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"razorpay_order_id\": \"order_test_123\",\n  \"razorpay_payment_id\": \"{{payment_id}}\",\n  \"razorpay_signature\": \"test_signature\",\n  \"order_id\": \"{{order_id}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/payments/verify",
              "host": ["{{base_url}}"],
              "path": ["payments", "verify"]
            }
          }
        },
        {
          "name": "Step 28: Get Payment Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/payments/{{payment_id}}",
              "host": ["{{base_url}}"],
              "path": ["payments", "{{payment_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "‚≠ê PHASE 4: Reviews & Support",
      "description": "Product reviews and customer support system",
      "item": [
        {
          "name": "Step 29: Add Product Review",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data._id) {",
                  "        pm.environment.set('review_id', response.data._id);",
                  "        console.log('‚úÖ Review ID saved:', response.data._id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product\": \"{{product_id}}\",\n  \"rating\": 5,\n  \"title\": \"Excellent Product!\",\n  \"comment\": \"Great quality and fast delivery. Highly recommended!\",\n  \"orderId\": \"{{order_id}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/reviews",
              "host": ["{{base_url}}"],
              "path": ["reviews"]
            }
          }
        },
        {
          "name": "Step 30: Get Product Reviews",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/reviews/product/{{product_id}}?page=1&limit=5",
              "host": ["{{base_url}}"],
              "path": ["reviews", "product", "{{product_id}}"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          }
        },
        {
          "name": "Step 31: Mark Review Helpful",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reviews/{{review_id}}/helpful",
              "host": ["{{base_url}}"],
              "path": ["reviews", "{{review_id}}", "helpful"]
            }
          }
        },
        {
          "name": "Step 32: Create Support Ticket",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data._id) {",
                  "        pm.environment.set('ticket_id', response.data._id);",
                  "        console.log('‚úÖ Ticket ID saved:', response.data._id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"subject\": \"Order Delivery Question\",\n  \"description\": \"When will my order be delivered?\",\n  \"category\": \"delivery\",\n  \"priority\": \"medium\",\n  \"orderId\": \"{{order_id}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/support/tickets",
              "host": ["{{base_url}}"],
              "path": ["support", "tickets"]
            }
          }
        },
        {
          "name": "Step 33: Get Support Tickets",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/support/tickets/user/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["support", "tickets", "user", "{{user_id}}"]
            }
          }
        },
        {
          "name": "Step 34: Create Return Request",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data._id) {",
                  "        pm.environment.set('return_id', response.data._id);",
                  "        console.log('‚úÖ Return ID saved:', response.data._id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"orderId\": \"{{order_id}}\",\n  \"items\": [{\n    \"product\": \"{{product_id}}\",\n    \"quantity\": 1,\n    \"reason\": \"not_as_described\",\n    \"description\": \"Product color different from image\"\n  }],\n  \"returnType\": \"refund\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/returns",
              "host": ["{{base_url}}"],
              "path": ["returns"]
            }
          }
        },
        {
          "name": "Step 35: Get Return Status",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/returns/{{return_id}}",
              "host": ["{{base_url}}"],
              "path": ["returns", "{{return_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "üìä PHASE 5: Admin Management",
      "description": "Admin dashboard and management operations",
      "item": [
        {
          "name": "Step 36: Admin Dashboard Quick Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/dashboard/quick-stats",
              "host": ["{{base_url}}"],
              "path": ["admin", "dashboard", "quick-stats"]
            }
          }
        },
        {
          "name": "Step 37: Full Admin Dashboard",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/dashboard?period=30",
              "host": ["{{base_url}}"],
              "path": ["admin", "dashboard"],
              "query": [
                {
                  "key": "period",
                  "value": "30"
                }
              ]
            }
          }
        },
        {
          "name": "Step 38: Get All Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/management/users?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["admin", "management", "users"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Step 39: Update User Status",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/admin/management/users/{{user_id}}/status",
              "host": ["{{base_url}}"],
              "path": ["admin", "management", "users", "{{user_id}}", "status"]
            }
          }
        },
        {
          "name": "Step 40: Get All Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/management/orders?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["admin", "management", "orders"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Step 41: Update Order Status",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"confirmed\",\n  \"notes\": \"Order confirmed and ready for processing\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/admin/management/orders/{{order_id}}/status",
              "host": ["{{base_url}}"],
              "path": ["admin", "management", "orders", "{{order_id}}", "status"]
            }
          }
        },
        {
          "name": "Step 42: Get Analytics Data",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/management/analytics",
              "host": ["{{base_url}}"],
              "path": ["admin", "management", "analytics"]
            }
          }
        },
        {
          "name": "Step 43: Handle Support Ticket (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"in_progress\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/support/tickets/{{ticket_id}}/status",
              "host": ["{{base_url}}"],
              "path": ["support", "tickets", "{{ticket_id}}", "status"]
            }
          }
        },
        {
          "name": "Step 44: Approve Return Request",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Return approved, refund will be processed\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/returns/{{return_id}}/approve",
              "host": ["{{base_url}}"],
              "path": ["returns", "{{return_id}}", "approve"]
            }
          }
        }
      ]
    },
    {
      "name": "üöÄ PHASE 6: Advanced Features",
      "description": "Advanced business features including invoices, inventory, suppliers",
      "item": [
        {
          "name": "Step 45: Generate Invoice",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data._id) {",
                  "        pm.environment.set('invoice_id', response.data._id);",
                  "        console.log('‚úÖ Invoice ID saved:', response.data._id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"orderId\": \"{{order_id}}\",\n  \"type\": \"tax_invoice\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/invoices",
              "host": ["{{base_url}}"],
              "path": ["invoices"]
            }
          }
        },
        {
          "name": "Step 46: Get Invoice PDF",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/invoices/{{invoice_id}}/pdf",
              "host": ["{{base_url}}"],
              "path": ["invoices", "{{invoice_id}}", "pdf"]
            }
          }
        },
        {
          "name": "Step 47: Get GST Reports",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/gst/reports?period=monthly&year=2025&month=1",
              "host": ["{{base_url}}"],
              "path": ["gst", "reports"],
              "query": [
                {
                  "key": "period",
                  "value": "monthly"
                },
                {
                  "key": "year",
                  "value": "2025"
                },
                {
                  "key": "month",
                  "value": "1"
                }
              ]
            }
          }
        },
        {
          "name": "Step 48: Get Inventory Dashboard",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/inventory/dashboard",
              "host": ["{{base_url}}"],
              "path": ["inventory", "dashboard"]
            }
          }
        },
        {
          "name": "Step 49: Update Inventory",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"stock\": 47,\n  \"lowStockThreshold\": 10,\n  \"location\": \"Warehouse A\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/inventory/{{product_id}}",
              "host": ["{{base_url}}"],
              "path": ["inventory", "{{product_id}}"]
            }
          }
        },
        {
          "name": "Step 50: Get Low Stock Items",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/inventory/low-stock",
              "host": ["{{base_url}}"],
              "path": ["inventory", "low-stock"]
            }
          }
        },
        {
          "name": "Step 51: Create Supplier",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.data._id) {",
                  "        pm.environment.set('supplier_id', response.data._id);",
                  "        console.log('‚úÖ Supplier ID saved:', response.data._id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Apple Inc.\",\n  \"contactPerson\": \"John Smith\",\n  \"email\": \"supplier@apple.com\",\n  \"phone\": \"+1-555-0123\",\n  \"address\": {\n    \"street\": \"1 Apple Park Way\",\n    \"city\": \"Cupertino\",\n    \"state\": \"California\",\n    \"country\": \"USA\",\n    \"postalCode\": \"95014\"\n  },\n  \"gstin\": \"US123456789\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/suppliers",
              "host": ["{{base_url}}"],
              "path": ["suppliers"]
            }
          }
        },
        {
          "name": "Step 52: Create Purchase Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"supplier\": \"{{supplier_id}}\",\n  \"items\": [{\n    \"product\": \"{{product_id}}\",\n    \"quantity\": 100,\n    \"unitPrice\": 80000,\n    \"totalPrice\": 8000000\n  }],\n  \"expectedDeliveryDate\": \"2025-02-15T00:00:00.000Z\",\n  \"notes\": \"Urgent order for iPhone 15 Pro\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/purchase-orders",
              "host": ["{{base_url}}"],
              "path": ["purchase-orders"]
            }
          }
        },
        {
          "name": "Step 53: Send Notification",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{user_id}}\",\n  \"type\": \"order_update\",\n  \"title\": \"Order Confirmed\",\n  \"message\": \"Your order has been confirmed and is being processed\",\n  \"data\": {\n    \"orderId\": \"{{order_id}}\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/notifications/send",
              "host": ["{{base_url}}"],
              "path": ["notifications", "send"]
            }
          }
        },
        {
          "name": "Step 54: Get User Notifications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/notifications?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["notifications"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Step 55: Sales Report",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reports/sales?startDate=2025-01-01&endDate=2025-01-31",
              "host": ["{{base_url}}"],
              "path": ["reports", "sales"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2025-01-01"
                },
                {
                  "key": "endDate",
                  "value": "2025-01-31"
                }
              ]
            }
          }
        },
        {
          "name": "Step 56: Customer Report",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reports/customers?period=monthly",
              "host": ["{{base_url}}"],
              "path": ["reports", "customers"],
              "query": [
                {
                  "key": "period",
                  "value": "monthly"
                }
              ]
            }
          }
        },
        {
          "name": "Step 57: System Status Check",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/settings/status",
              "host": ["{{base_url}}"],
              "path": ["settings", "status"]
            }
          }
        },
        {
          "name": "Step 58: Validate System Settings",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/settings/validate",
              "host": ["{{base_url}}"],
              "path": ["settings", "validate"]
            }
          }
        }
      ]
    }
  ]
}
